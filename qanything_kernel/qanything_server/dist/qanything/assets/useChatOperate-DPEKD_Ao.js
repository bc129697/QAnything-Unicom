import{b as e,u as a}from"./ChatInfoPanel-Cxesx8km.js";import{u as t}from"./useChatSetting-CpQu1AXT.js";import{g as n}from"./index-DAdVxPIc.js";import{g as l,m as r,_ as i,a5 as o,ax as u,d as s,u as d,a as p,a8 as c,c as v,h as m,I as f,ad as g,r as h,e as b,f as x,aC as y,s as $,a2 as S,w,ae as k,ar as N,ab as I,aD as _,aE as T,aF as E,aG as C,aH as M,aI as L,aJ as z,aK as A,aL as O,aM as D,aN as B,aO as P,aP as R,aQ as j,aR as q,aS as U,aT as K,aU as F,aV as W,aW as G,a4 as H,P as V,aX as X,a3 as Q,M as Y,aY as J,t as Z,j as ee,o as ae,aZ as te,k as ne,l as le,n as re,q as ie,x as oe,y as ue,E as se,z as de,O as pe,v as ce,H as ve,a_ as me,A as fe,B as ge,a$ as he,Q as be,C as xe,X as ye,Y as $e,D as Se,T as we,R as ke}from"./index-BVM7diGR.js";import{i as Ne,D as Ie,S as _e,a as Te}from"./responsiveObserve-BPfiShJR.js";import{u as Ee,_ as Ce,F as Me}from"./index-BUlNCtQT.js";import{C as Le,_ as ze}from"./index-CBrli1tO.js";import{_ as Ae}from"./LeftOutlined-BC9u9Wti.js";import{t as Oe,r as De,u as Be}from"./urlConfig-5Ad6E0st.js";import{b as Pe}from"./index-BTL0xIAV.js";const Re=e=>{const{componentCls:a,sizePaddingEdgeHorizontal:t,colorSplit:n,lineWidth:l}=e;return{[a]:i(i({},o(e)),{borderBlockStart:`${l}px solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${e.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${l}px solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${e.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${a}-with-text`]:{display:"flex",alignItems:"center",margin:`${e.dividerHorizontalWithTextGutterMargin}px 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${l}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${a}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${a}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${a}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${l}px 0 0`},[`&-horizontal${a}-with-text${a}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${a}-dashed`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${a}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${a}-with-text-left${a}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${a}-inner-text`]:{paddingInlineStart:t}},[`&-horizontal${a}-with-text-right${a}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${a}-inner-text`]:{paddingInlineEnd:t}}})}},je=l("Divider",(e=>{const a=r(e,{dividerVerticalGutterMargin:e.marginXS,dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG});return[Re(a)]}),{sizePaddingEdgeHorizontal:0}),qe=u(s({name:"ADivider",inheritAttrs:!1,compatConfig:{MODE:3},props:{prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]},setup(e,a){let{slots:t,attrs:n}=a;const{prefixCls:l,direction:r}=d("divider",e),[o,u]=je(l),s=p((()=>"left"===e.orientation&&null!=e.orientationMargin)),f=p((()=>"right"===e.orientation&&null!=e.orientationMargin)),g=p((()=>{const{type:a,dashed:t,plain:n}=e,i=l.value;return{[i]:!0,[u.value]:!!u.value,[`${i}-${a}`]:!0,[`${i}-dashed`]:!!t,[`${i}-plain`]:!!n,[`${i}-rtl`]:"rtl"===r.value,[`${i}-no-default-orientation-margin-left`]:s.value,[`${i}-no-default-orientation-margin-right`]:f.value}})),h=p((()=>{const a="number"==typeof e.orientationMargin?`${e.orientationMargin}px`:e.orientationMargin;return i(i({},s.value&&{marginLeft:a}),f.value&&{marginRight:a})})),b=p((()=>e.orientation.length>0?"-"+e.orientation:e.orientation));return()=>{var e;const a=c(null===(e=t.default)||void 0===e?void 0:e.call(t));return o(v("div",m(m({},n),{},{class:[g.value,a.length?`${l.value}-with-text ${l.value}-with-text${b.value}`:"",n.class],role:"separator"}),[a.length?v("span",{class:`${l.value}-inner-text`,style:h.value},[a]):null]))}}}));var Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};function Ke(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){Fe(e,a,t[a])}))}return e}function Fe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var We=function(e,a){var t=Ke({},e,a.attrs);return v(f,Ke({},t,{icon:Ue}),null)};function Ge(){return"function"==typeof BigInt}function He(e){let a=e.trim(),t=a.startsWith("-");t&&(a=a.slice(1)),a=a.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),a.startsWith(".")&&(a=`0${a}`);const n=a||"0",l=n.split("."),r=l[0]||"0",i=l[1]||"0";"0"===r&&"0"===i&&(t=!1);const o=t?"-":"";return{negative:t,negativeStr:o,trimStr:n,integerStr:r,decimalStr:i,fullStr:`${o}${n}`}}function Ve(e){const a=String(e);return!Number.isNaN(Number(a))&&a.includes("e")}function Xe(e){const a=String(e);if(Ve(e)){let e=Number(a.slice(a.indexOf("e-")+2));const t=a.match(/\.(\d+)/);return(null==t?void 0:t[1])&&(e+=t[1].length),e}return a.includes(".")&&Ye(a)?a.length-a.indexOf(".")-1:0}function Qe(e){let a=String(e);if(Ve(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Ge()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Ge()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);a=e.toFixed(Xe(a))}return He(a).fullStr}function Ye(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function Je(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}We.displayName="UpOutlined",We.inheritAttrs=!1;class Ze{constructor(e){this.origin="",Je(e)?this.empty=!0:(this.origin=String(e),this.number=Number(e))}negate(){return new Ze(-this.toNumber())}add(e){if(this.isInvalidate())return new Ze(e);const a=Number(e);if(Number.isNaN(a))return this;const t=this.number+a;if(t>Number.MAX_SAFE_INTEGER)return new Ze(Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return new Ze(Number.MIN_SAFE_INTEGER);const n=Math.max(Xe(this.number),Xe(a));return new Ze(t.toFixed(n))}isEmpty(){return this.empty}isNaN(){return Number.isNaN(this.number)}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(e){return this.toNumber()===(null==e?void 0:e.toNumber())}lessEquals(e){return this.add(e.negate().toString()).toNumber()<=0}toNumber(){return this.number}toString(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":Qe(this.number):this.origin}}class ea{constructor(e){if(this.origin="",Je(e))return void(this.empty=!0);if(this.origin=String(e),"-"===e||Number.isNaN(e))return void(this.nan=!0);let a=e;if(Ve(a)&&(a=Number(a)),a="string"==typeof a?a:Qe(a),Ye(a)){const e=He(a);this.negative=e.negative;const t=e.trimStr.split(".");this.integer=BigInt(t[0]);const n=t[1]||"0";this.decimal=BigInt(n),this.decimalLen=n.length}else this.nan=!0}getMark(){return this.negative?"-":""}getIntegerStr(){return this.integer.toString()}getDecimalStr(){return this.decimal.toString().padStart(this.decimalLen,"0")}alignDecimal(e){const a=`${this.getMark()}${this.getIntegerStr()}${this.getDecimalStr().padEnd(e,"0")}`;return BigInt(a)}negate(){const e=new ea(this.toString());return e.negative=!e.negative,e}add(e){if(this.isInvalidate())return new ea(e);const a=new ea(e);if(a.isInvalidate())return this;const t=Math.max(this.getDecimalStr().length,a.getDecimalStr().length),n=(this.alignDecimal(t)+a.alignDecimal(t)).toString(),{negativeStr:l,trimStr:r}=He(n),i=`${l}${r.padStart(t+1,"0")}`;return new ea(`${i.slice(0,-t)}.${i.slice(-t)}`)}isEmpty(){return this.empty}isNaN(){return this.nan}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(e){return this.toString()===(null==e?void 0:e.toString())}lessEquals(e){return this.add(e.negate().toString()).toNumber()<=0}toNumber(){return this.isNaN()?NaN:Number(this.toString())}toString(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":He(`${this.getMark()}${this.getIntegerStr()}.${this.getDecimalStr()}`).fullStr:this.origin}}function aa(e){return Ge()?new ea(e):new Ze(e)}function ta(e,a,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";const{negativeStr:l,integerStr:r,decimalStr:i}=He(e),o=`${a}${i}`,u=`${l}${r}`;if(t>=0){const r=Number(i[t]);if(r>=5&&!n){return ta(aa(e).add(`${l}0.${"0".repeat(t)}${10-r}`).toString(),a,t,n)}return 0===t?u:`${u}${a}${i.padEnd(t,"0").slice(0,t)}`}return".0"===o?u:`${u}${o}`}const na=s({compatConfig:{MODE:3},name:"StepHandler",inheritAttrs:!1,props:{prefixCls:String,upDisabled:Boolean,downDisabled:Boolean,onStep:g()},slots:Object,setup(e,a){let{slots:t,emit:n}=a;const l=h(),r=(e,a)=>{e.preventDefault(),n("step",a),l.value=setTimeout((function e(){n("step",a),l.value=setTimeout(e,200)}),600)},i=()=>{clearTimeout(l.value)};return b((()=>{i()})),()=>{if(Ne())return null;const{prefixCls:a,upDisabled:n,downDisabled:l}=e,o=`${a}-handler`,u=x(o,`${o}-up`,{[`${o}-up-disabled`]:n}),s=x(o,`${o}-down`,{[`${o}-down-disabled`]:l}),d={unselectable:"on",role:"button",onMouseup:i,onMouseleave:i},{upNode:p,downNode:c}=t;return v("div",{class:`${o}-wrap`},[v("span",m(m({},d),{},{onMousedown:e=>{r(e,!0)},"aria-label":"Increase Value","aria-disabled":n,class:u}),[(null==p?void 0:p())||v("span",{unselectable:"on",class:`${a}-handler-up-inner`},null)]),v("span",m(m({},d),{},{onMousedown:e=>{r(e,!1)},"aria-label":"Decrease Value","aria-disabled":l,class:s}),[(null==c?void 0:c())||v("span",{unselectable:"on",class:`${a}-handler-down-inner`},null)])])}}});const la=(e,a)=>e||a.isEmpty()?a.toString():a.toNumber(),ra=e=>{const a=aa(e);return a.isInvalidate()?null:a},ia=()=>({stringMode:k(),defaultValue:N([String,Number]),value:N([String,Number]),prefixCls:I(),min:N([String,Number]),max:N([String,Number]),step:N([String,Number],1),tabindex:Number,controls:k(!0),readonly:k(),disabled:k(),autofocus:k(),keyboard:k(!0),parser:g(),formatter:g(),precision:Number,decimalSeparator:String,onInput:g(),onChange:g(),onPressEnter:g(),onStep:g(),onBlur:g(),onFocus:g()}),oa=s({compatConfig:{MODE:3},name:"InnerInputNumber",inheritAttrs:!1,props:i(i({},ia()),{lazy:Boolean}),slots:Object,setup(e,a){let{attrs:t,slots:n,emit:l,expose:r}=a;const o=$(),u=$(!1),s=$(!1),d=$(!1),c=$(aa(e.value));const f=(a,t)=>{if(!t)return e.precision>=0?e.precision:Math.max(Xe(a),Xe(e.step))},g=a=>{const t=String(a);if(e.parser)return e.parser(t);let n=t;return e.decimalSeparator&&(n=n.replace(e.decimalSeparator,".")),n.replace(/[^\w.-]+/g,"")},k=$(""),N=(a,t)=>{if(e.formatter)return e.formatter(a,{userTyping:t,input:String(k.value)});let n="number"==typeof a?Qe(a):a;if(!t){const a=f(n,t);if(Ye(n)&&(e.decimalSeparator||a>=0)){n=ta(n,e.decimalSeparator||".",a)}}return n},I=(()=>{const a=e.value;return c.value.isInvalidate()&&["string","number"].includes(typeof a)?Number.isNaN(a)?"":a:N(c.value.toString(),!1)})();function T(e,a){k.value=N(e.isInvalidate()?e.toString(!1):e.toString(!a),a)}k.value=I;const E=p((()=>ra(e.max))),C=p((()=>ra(e.min))),M=p((()=>!(!E.value||!c.value||c.value.isInvalidate())&&E.value.lessEquals(c.value))),L=p((()=>!(!C.value||!c.value||c.value.isInvalidate())&&c.value.lessEquals(C.value))),[z,A]=function(e,a){const t=h(null);return[function(){try{const{selectionStart:a,selectionEnd:n,value:l}=e.value,r=l.substring(0,a),i=l.substring(n);t.value={start:a,end:n,value:l,beforeTxt:r,afterTxt:i}}catch(a){}},function(){if(e.value&&t.value&&a.value)try{const{value:a}=e.value,{beforeTxt:n,afterTxt:l,start:r}=t.value;let i=a.length;if(a.endsWith(l))i=a.length-t.value.afterTxt.length;else if(a.startsWith(n))i=n.length;else{const e=n[r-1],t=a.indexOf(e,r-1);-1!==t&&(i=t+1)}e.value.setSelectionRange(i,i)}catch(n){y(!1,`Something warning of cursor restore. Please fire issue about this: ${n.message}`)}}]}(o,u),O=e=>E.value&&!e.lessEquals(E.value)?E.value:C.value&&!C.value.lessEquals(e)?C.value:null,D=e=>!O(e),B=(a,t)=>{var n;let l=a,r=D(l)||l.isEmpty();if(l.isEmpty()||t||(l=O(l)||l,r=!0),!e.readonly&&!e.disabled&&r){const a=l.toString(),r=f(a,t);return r>=0&&(l=aa(ta(a,".",r))),l.equals(c.value)||(i=l,void 0===e.value&&(c.value=i),null===(n=e.onChange)||void 0===n||n.call(e,l.isEmpty()?null:la(e.stringMode,l)),void 0===e.value&&T(l,t)),l}var i;return c.value},P=(()=>{const e=$(0),a=()=>{S.cancel(e.value)};return b((()=>{a()})),t=>{a(),e.value=S((()=>{t()}))}})(),R=a=>{var t;if(z(),k.value=a,!d.value){const e=aa(g(a));e.isNaN()||B(e,!0)}null===(t=e.onInput)||void 0===t||t.call(e,a),P((()=>{let t=a;e.parser||(t=a.replace(/。/g,".")),t!==a&&R(t)}))},j=()=>{d.value=!0},q=()=>{d.value=!1,R(o.value.value)},U=e=>{R(e.target.value)},K=a=>{var t,n;if(a&&M.value||!a&&L.value)return;s.value=!1;let l=aa(e.step);a||(l=l.negate());const r=(c.value||aa(0)).add(l.toString()),i=B(r,!1);null===(t=e.onStep)||void 0===t||t.call(e,la(e.stringMode,i),{offset:e.step,type:a?"up":"down"}),null===(n=o.value)||void 0===n||n.focus()},F=a=>{const t=aa(g(k.value));let n=t;n=t.isNaN()?c.value:B(t,a),void 0!==e.value?T(c.value,!1):n.isNaN()||T(n,!1)},W=a=>{var t;const{which:n}=a;s.value=!0,n===_.ENTER&&(d.value||(s.value=!1),F(!1),null===(t=e.onPressEnter)||void 0===t||t.call(e,a)),!1!==e.keyboard&&!d.value&&[_.UP,_.DOWN].includes(n)&&(K(_.UP===n),a.preventDefault())},G=()=>{s.value=!1},H=e=>{F(!1),u.value=!1,s.value=!1,l("blur",e)};return w((()=>e.precision),(()=>{c.value.isInvalidate()||T(c.value,!1)}),{flush:"post"}),w((()=>e.value),(()=>{const a=aa(e.value);c.value=a;const t=aa(g(k.value));a.equals(t)&&s.value&&!e.formatter||T(a,s.value)}),{flush:"post"}),w(k,(()=>{e.formatter&&A()}),{flush:"post"}),w((()=>e.disabled),(e=>{e&&(u.value=!1)})),r({focus:()=>{var e;null===(e=o.value)||void 0===e||e.focus()},blur:()=>{var e;null===(e=o.value)||void 0===e||e.blur()}}),()=>{const a=i(i({},t),e),{prefixCls:r="rc-input-number",min:s,max:d,step:p=1,defaultValue:f,value:g,disabled:h,readonly:b,keyboard:y,controls:$=!0,autofocus:S,stringMode:w,parser:N,formatter:I,precision:_,decimalSeparator:T,onChange:E,onInput:C,onPressEnter:z,onStep:A,lazy:O,class:B,style:P}=a,R=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t}(a,["prefixCls","min","max","step","defaultValue","value","disabled","readonly","keyboard","controls","autofocus","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","lazy","class","style"]),{upHandler:F,downHandler:V}=n,X=`${r}-input`,Q={};return O?Q.onChange=U:Q.onInput=U,v("div",{class:x(r,B,{[`${r}-focused`]:u.value,[`${r}-disabled`]:h,[`${r}-readonly`]:b,[`${r}-not-a-number`]:c.value.isNaN(),[`${r}-out-of-range`]:!c.value.isInvalidate()&&!D(c.value)}),style:P,onKeydown:W,onKeyup:G},[$&&v(na,{prefixCls:r,upDisabled:M.value,downDisabled:L.value,onStep:K},{upNode:F,downNode:V}),v("div",{class:`${X}-wrap`},[v("input",m(m(m({autofocus:S,autocomplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":d,"aria-valuenow":c.value.isInvalidate()?null:c.value.toString(),step:p},R),{},{ref:o,class:X,value:k.value,disabled:h,readonly:b,onFocus:e=>{u.value=!0,l("focus",e)}},Q),{},{onBlur:H,onCompositionstart:j,onCompositionend:q}),null)])])}}});function ua(e){return null!=e}const sa=e=>{const{componentCls:a,lineWidth:t,lineType:n,colorBorder:l,borderRadius:r,fontSizeLG:u,controlHeightLG:s,controlHeightSM:d,colorError:p,inputPaddingHorizontalSM:c,colorTextDescription:v,motionDurationMid:m,colorPrimary:f,controlHeight:g,inputPaddingHorizontal:h,colorBgContainer:b,colorTextDisabled:x,borderRadiusSM:y,borderRadiusLG:$,controlWidth:S,handleVisible:w}=e;return[{[a]:i(i(i(i({},o(e)),C(e)),M(e,a)),{display:"inline-block",width:S,margin:0,padding:0,border:`${t}px ${n} ${l}`,borderRadius:r,"&-rtl":{direction:"rtl",[`${a}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:u,borderRadius:$,[`input${a}-input`]:{height:s-2*t}},"&-sm":{padding:0,borderRadius:y,[`input${a}-input`]:{height:d-2*t,padding:`0 ${c}px`}},"&:hover":i({},L(e)),"&-focused":i({},z(e)),"&-disabled":i(i({},A(e)),{[`${a}-input`]:{cursor:"not-allowed"}}),"&-out-of-range":{input:{color:p}},"&-group":i(i(i({},o(e)),O(e)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${a}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${a}-group-addon`]:{borderRadius:$}},"&-sm":{[`${a}-group-addon`]:{borderRadius:y}}}}),[a]:{"&-input":i(i({width:"100%",height:g-2*t,padding:`0 ${h}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:r,outline:0,transition:`all ${m} linear`,appearance:"textfield",color:e.colorText,fontSize:"inherit",verticalAlign:"top"},D(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[a]:{[`&:hover ${a}-handler-wrap, &-focused ${a}-handler-wrap`]:{opacity:1},[`${a}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",background:b,borderStartStartRadius:0,borderStartEndRadius:r,borderEndEndRadius:r,borderEndStartRadius:0,opacity:!0===w?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${m} linear ${m}`,[`${a}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`\n              ${a}-handler-up-inner,\n              ${a}-handler-down-inner\n            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${a}-handler`]:{height:"50%",overflow:"hidden",color:v,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${t}px ${n} ${l}`,transition:`all ${m} linear`,"&:active":{background:e.colorFillAlter},"&:hover":{height:"60%",[`\n              ${a}-handler-up-inner,\n              ${a}-handler-down-inner\n            `]:{color:f}},"&-up-inner, &-down-inner":i(i({},B()),{color:v,transition:`all ${m} linear`,userSelect:"none"})},[`${a}-handler-up`]:{borderStartEndRadius:r},[`${a}-handler-down`]:{borderBlockStart:`${t}px ${n} ${l}`,borderEndEndRadius:r},"&-disabled, &-readonly":{[`${a}-handler-wrap`]:{display:"none"}},[`\n          ${a}-handler-up-disabled,\n          ${a}-handler-down-disabled\n        `]:{cursor:"not-allowed"},[`\n          ${a}-handler-up-disabled:hover &-handler-up-inner,\n          ${a}-handler-down-disabled:hover &-handler-down-inner\n        `]:{color:x}}},{[`${a}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${a}-handler-down`]:{borderBlockStartWidth:0}}}]},da=e=>{const{componentCls:a,inputPaddingHorizontal:t,inputAffixPadding:n,controlWidth:l,borderRadiusLG:r,borderRadiusSM:o}=e;return{[`${a}-affix-wrapper`]:i(i(i({},C(e)),M(e,`${a}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:l,padding:0,paddingInlineStart:t,"&-lg":{borderRadius:r},"&-sm":{borderRadius:o},[`&:not(${a}-affix-wrapper-disabled):hover`]:i(i({},L(e)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${a}[disabled]`]:{background:"transparent"}},[`> div${a}`]:{width:"100%",border:"none",outline:"none",[`&${a}-focused`]:{boxShadow:"none !important"}},[`input${a}-input`]:{padding:0},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${a}-handler-wrap`]:{zIndex:2},[a]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:n},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:t,marginInlineStart:n}}})}},pa=l("InputNumber",(e=>{const a=T(e);return[sa(a),da(a),E(a)]}),(e=>({controlWidth:90,handleWidth:e.controlHeightSM-2*e.lineWidth,handleFontSize:e.fontSize/2,handleVisible:"auto"})));const ca=ia(),va=s({compatConfig:{MODE:3},name:"AInputNumber",inheritAttrs:!1,props:i(i({},ca),{size:I(),bordered:k(!0),placeholder:String,name:String,id:String,type:String,addonBefore:V.any,addonAfter:V.any,prefix:V.any,"onUpdate:value":ca.onChange,valueModifiers:Object,status:I()}),slots:Object,setup(e,a){let{emit:t,expose:n,attrs:l,slots:r}=a;var o;const u=P(),s=R.useInject(),c=p((()=>j(s.status,e.status))),{prefixCls:f,size:g,direction:h,disabled:b}=d("input-number",e),{compactSize:y,compactItemClassnames:S}=q(f,h),k=U(),N=p((()=>{var e;return null!==(e=b.value)&&void 0!==e?e:k.value})),[I,_]=pa(f),T=p((()=>y.value||g.value)),E=$(null!==(o=e.value)&&void 0!==o?o:e.defaultValue),C=$(!1);w((()=>e.value),(()=>{E.value=e.value}));const M=$(null),L=()=>{var e;null===(e=M.value)||void 0===e||e.focus()};n({focus:L,blur:()=>{var e;null===(e=M.value)||void 0===e||e.blur()}});const z=a=>{void 0===e.value&&(E.value=a),t("update:value",a),t("change",a),u.onFieldChange()},A=e=>{C.value=!1,t("blur",e),u.onFieldBlur()},O=e=>{C.value=!0,t("focus",e)};return()=>{var a,t,n,o;const{hasFeedback:d,isFormItemInput:p,feedbackIcon:g}=s,b=null!==(a=e.id)&&void 0!==a?a:u.id.value,y=i(i(i({},l),e),{id:b,disabled:N.value}),{class:$,bordered:w,readonly:k,style:D,addonBefore:B=(null===(t=r.addonBefore)||void 0===t?void 0:t.call(r)),addonAfter:P=(null===(n=r.addonAfter)||void 0===n?void 0:n.call(r)),prefix:R=(null===(o=r.prefix)||void 0===o?void 0:o.call(r)),valueModifiers:j={}}=y,q=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t}(y,["class","bordered","readonly","style","addonBefore","addonAfter","prefix","valueModifiers"]),U=f.value,V=x({[`${U}-lg`]:"large"===T.value,[`${U}-sm`]:"small"===T.value,[`${U}-rtl`]:"rtl"===h.value,[`${U}-readonly`]:k,[`${U}-borderless`]:!w,[`${U}-in-form-item`]:p},K(U,c.value),$,S.value,_.value);let X=v(oa,m(m({},F(q,["size","defaultValue"])),{},{ref:M,lazy:!!j.lazy,value:E.value,class:V,prefixCls:U,readonly:k,onChange:z,onBlur:A,onFocus:O}),{upHandler:r.upIcon?()=>v("span",{class:`${U}-handler-up-inner`},[r.upIcon()]):()=>v(We,{class:`${U}-handler-up-inner`},null),downHandler:r.downIcon?()=>v("span",{class:`${U}-handler-down-inner`},[r.downIcon()]):()=>v(Ie,{class:`${U}-handler-down-inner`},null)});const Q=ua(B)||ua(P),Y=ua(R);if(Y||d){const e=x(`${U}-affix-wrapper`,K(`${U}-affix-wrapper`,c.value,d),{[`${U}-affix-wrapper-focused`]:C.value,[`${U}-affix-wrapper-disabled`]:N.value,[`${U}-affix-wrapper-sm`]:"small"===T.value,[`${U}-affix-wrapper-lg`]:"large"===T.value,[`${U}-affix-wrapper-rtl`]:"rtl"===h.value,[`${U}-affix-wrapper-readonly`]:k,[`${U}-affix-wrapper-borderless`]:!w,[`${$}`]:!Q&&$},_.value);X=v("div",{class:e,style:D,onClick:L},[Y&&v("span",{class:`${U}-prefix`},[R]),X,d&&v("span",{class:`${U}-suffix`},[g])])}if(Q){const e=`${U}-group`,a=`${e}-addon`,t=B?v("div",{class:a},[B]):null,n=P?v("div",{class:a},[P]):null,l=x(`${U}-wrapper`,e,{[`${e}-rtl`]:"rtl"===h.value},_.value),r=x(`${U}-group-wrapper`,{[`${U}-group-wrapper-sm`]:"small"===T.value,[`${U}-group-wrapper-lg`]:"large"===T.value,[`${U}-group-wrapper-rtl`]:"rtl"===h.value},K(`${f}-group-wrapper`,c.value,d),$,_.value);X=v("div",{class:r,style:D},[v("div",{class:l},[t&&v(W,null,{default:()=>[v(G,null,{default:()=>[t]})]}),X,n&&v(W,null,{default:()=>[v(G,null,{default:()=>[n]})]})])])}return I(H(X,{style:D}))}}}),ma=i(va,{install:e=>(e.component(va.name,va),e)}),fa={small:8,middle:16,large:24};const ga=s({compatConfig:{MODE:3},name:"ASpace",inheritAttrs:!1,props:{prefixCls:String,size:{type:[String,Number,Array]},direction:V.oneOf(Z("horizontal","vertical")).def("horizontal"),align:V.oneOf(Z("start","end","center","baseline")),wrap:k()},slots:Object,setup(e,a){let{slots:t,attrs:n}=a;const{prefixCls:l,space:r,direction:o}=d("space",e),[u,s]=X(l),c=Ee(),f=p((()=>{var a,t,n;return null!==(n=null!==(a=e.size)&&void 0!==a?a:null===(t=null==r?void 0:r.value)||void 0===t?void 0:t.size)&&void 0!==n?n:"small"})),g=h(),b=h();w(f,(()=>{[g.value,b.value]=(Array.isArray(f.value)?f.value:[f.value,f.value]).map((e=>function(e){return"string"==typeof e?fa[e]:e||0}(e)))}),{immediate:!0});const y=p((()=>void 0===e.align&&"horizontal"===e.direction?"center":e.align)),$=p((()=>x(l.value,s.value,`${l.value}-${e.direction}`,{[`${l.value}-rtl`]:"rtl"===o.value,[`${l.value}-align-${y.value}`]:y.value}))),S=p((()=>"rtl"===o.value?"marginLeft":"marginRight")),k=p((()=>{const a={};return c.value&&(a.columnGap=`${g.value}px`,a.rowGap=`${b.value}px`),i(i({},a),e.wrap&&{flexWrap:"wrap",marginBottom:-b.value+"px"})}));return()=>{var a,r;const{wrap:o,direction:s="horizontal"}=e,d=null===(a=t.default)||void 0===a?void 0:a.call(t),p=Q(d),f=p.length;if(0===f)return null;const h=null===(r=t.split)||void 0===r?void 0:r.call(t),x=`${l.value}-item`,y=g.value,w=f-1;return v("div",m(m({},n),{},{class:[$.value,n.class],style:[k.value,n.style]}),[p.map(((e,a)=>{let t=d.indexOf(e);-1===t&&(t=`$$space-${a}`);let n={};return c.value||("vertical"===s?a<w&&(n={marginBottom:y/(h?2:1)+"px"}):n=i(i({},a<w&&{[S.value]:y/(h?2:1)+"px"}),o&&{paddingBottom:`${b.value}px`})),u(v(Y,{key:t},[v("div",{class:x,style:n},[e]),a<w&&h&&v("span",{class:`${x}-split`,style:n},[h])]))}))])}}});ga.Compact=J,ga.install=function(e){return e.component(ga.name,ga),e.component(J.name,J),e};const ha=e=>(ye("data-v-bd0d4840"),e=e(),$e(),e),ba={class:"form-item-inline"},xa={key:0,class:"content-length-warn-tip"},ya=[ha((()=>ve("span",null,"当总Token数量超过32K时，资源消耗较大，请尽量将其控制在32K以下",-1)))],$a={key:1,class:"content-length-ollama-tip"},Sa=ha((()=>ve("a",{href:"https://github.com/netease-youdao/QAnything/blob/qanything-v2/FAQ_zh.md",target:"_blank",style:{color:"#3c87ff"}}," [手动修改ollama模型配置] ",-1))),wa=ha((()=>ve("span",{style:{color:"#888",background:"rgba(150, 150, 150, 0.1)"}}," 总Token数量选择 ",-1))),ka={class:"form-item-inline"},Na={class:"form-item-inline"},Ia={class:"form-item-inline"},_a={class:"form-item-inline"},Ta={class:"form-item-inline"},Ea={class:"form-item-inline"},Ca={class:"form-item-inline"},Ma=Se(s({__name:"ChatSettingForm",setup(a,{expose:l}){l({onCheck:async function(){try{return await c.value.validateFields(),g.value}catch(e){return e}},initForm:B});const r=n().common,{chatSettingConfigured:i}=ee(t()),{setChatSettingConfigured:o,openAISettingMap:u,deepSeekAISettingMap:d}=t(),c=h(null),m=h([]),f=h([]),g=h(),b=p((()=>"edit"===me().name)),x=s({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}});let y=0;const $=h([]),S=h([]),k=h(),N=h(),I=h(),_=h(200),T=e=>{e.preventDefault(),$.value.push(N.value||`New item ${y+=1}`),g.value.apiModelName=N.value,N.value="",setTimeout((()=>{var e;null==(e=k.value)||e.focus()}),0)},E=e=>{e.preventDefault(),S.value.push(I.value||`New item ${y+=1}`),g.value.apiModelName=I.value,I.value="",setTimeout((()=>{var e;null==(e=k.value)||e.focus()}),0)};ae((()=>{$.value=[...u.keys()],S.value=[...d.keys()]}));const C=e=>{var a;const t=null==(a=u.get(e))?void 0:a.apiContextLength;t?(L.value=t/1024,_.value=t/1024):L.value=4},M=e=>{var a,t;const n=null==(a=d.get(e))?void 0:a.apiContextLength,l=null==(t=d.get(e))?void 0:t.maxToken;n?(L.value=n/1024,_.value=n/1024):L.value=4,g.value.maxToken=l||512},L=h(4);w((()=>{var e;return null==(e=null==g?void 0:g.value)?void 0:e.apiContextLength}),(()=>{var e;L.value=(null==(e=null==g?void 0:g.value)?void 0:e.apiContextLength)/1024,L.value>=2&&g.value.maxToken<512&&(g.value.maxToken=512),L.value>=4&&g.value.chunkSize<800&&(g.value.chunkSize=800)})),w((()=>L.value),(()=>{g.value.apiContextLength=1024*L.value}));const z={modelType:[{required:!0,message:`${r.plsInput}${r.modelProviderLabel}`,trigger:"change"}],modelName:[{required:!0,message:`${r.plsInput}${r.modelNameLabel}`,trigger:"change"}],apiKey:[{required:!0,message:`${r.plsInput}${r.apiKeyLabel}`,trigger:"change"}],apiBase:[{required:!0,message:`${r.plsInput}${r.apiBaseLabel}`,trigger:"change"}],apiModelName:[{required:!0,message:`${r.plsInput}${r.apiModelNameLabel}`,trigger:"change"}],apiContextLength:[{required:!0,message:`${r.plsInput}${r.apiContextLengthLabel}`,trigger:"change"}],apiContextTokenK:[{required:!0,message:`${r.plsInput}${r.apiContextLengthLabel}`,trigger:"change"}],maxToken:[{required:!0,message:`${r.plsInput}${r.maxTokenLabel}`,trigger:"change"}],chunkSize:[{required:!0,message:`${r.plsInput}${r.chunkSizeLabel}`,trigger:"change"}],temperature:[{required:!0,message:`${r.plsInput}temperature`,trigger:"change"}],top_P:[{required:!0,message:`${r.plsInput}top_P`,trigger:"change"}],top_K:[{required:!0,message:`${r.plsInput}top_K`,trigger:"change"}],rerankScoreThreshold:[{required:!0,message:`${r.plsInput}rerankScoreThreshold`,trigger:["blur","change"]}]};function A(){o(g.value),fe.success("添加成功")}const O=e=>{"openAI"===e?g.value={...i.value.find((e=>"openAI"===e.modelType))}:"ollama"===e?g.value={...i.value.find((e=>"ollama"===e.modelType))}:"deepseek"===e?(g.value.apiModelName=S.value[0],g.value.apiBase="http://localhost:8766/v1",g.value.apiKey="vllm",g.value.apiModelName.includes("DeepSeek-R1-Distill")?(g.value.maxToken=2048,L.value=32):(g.value.maxToken=4096,L.value=128)):g.value={...i.value.find((a=>a.customId===e))}};function D(e){if(0===e){m.value=[];const e=g.value.capabilities;for(let t in e)e[t]&&m.value.push(t);f.value=[];const a=g.value.answerSetting;for(let t in a)a[t]&&f.value.push(t)}else{for(let e in g.value.capabilities)g.value.capabilities[e]=!1;m.value.forEach((e=>{g.value.capabilities[e]=!0}));for(let e in g.value.answerSetting)g.value.answerSetting[e]=!1;f.value.forEach((e=>{g.value.answerSetting[e]=!0}))}}function B(e){if(e){if("openAI"===e.modelType&&u.has(e.apiModelName)){C(e.apiModelName);const{apiContextLength:a}=u.get(e.apiModelName);e.apiContextLength!==a&&(L.value=e.apiContextLength/1024)}return void(g.value={...e})}const a={...i.value.find((e=>!0===e.active))};if("openAI"===a.modelType&&u.has(a.apiModelName)){C(a.apiModelName);const{apiContextLength:e}=u.get(a.apiModelName);a.apiContextLength!==e&&(L.value=a.apiContextLength/1024)}g.value={...a}}return w((()=>[m.value,f.value]),(()=>D(1))),w((()=>g.value),(()=>D(0))),te((()=>{B()})),(a,t)=>{const n=_e,l=Te,o=Ce,u=ge,s=he,d=qe,p=be,f=ga,h=Ae,y=e,w=ma,D=Le,B=ze,P=Me,R=xe;return ne(),le(R,{theme:{token:{colorPrimary:"#5a47e5"}}},{default:re((()=>[v(P,{ref_key:"formRef",ref:c,model:ie(g),rules:z,"label-col":{style:{width:"150px"}},"wrapper-col":{span:24},style:{width:"100%"},"label-align":"left",onFinish:A},{default:re((()=>[v(o,{label:ie(r).modelProviderLabel,name:"modelType"},{default:re((()=>[v(l,{value:ie(g).modelType,"onUpdate:value":t[0]||(t[0]=e=>ie(g).modelType=e),placeholder:ie(r).selectModel,onChange:O},{default:re((()=>[v(n,{value:"openAI"},{default:re((()=>[oe("openAI")])),_:1}),v(n,{value:"ollama"},{default:re((()=>[oe("ollama")])),_:1}),v(n,{value:"deepseek"},{default:re((()=>[oe("deepseek")])),_:1}),(ne(!0),ue(Y,null,se(ie(i).filter((e=>!["openAI","ollama","deepseek"].includes(e.modelType))),(e=>(ne(),le(n,{key:e.customId||e.modelName,value:e.customId},{default:re((()=>[oe(de(0===e.modelName.length?ie(r).customModelType:e.modelName),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","placeholder"])])),_:1},8,["label"]),"deepseek"!==ie(g).modelType&&"ollama"!==ie(g).modelType&&"openAI"!==ie(g).modelType?(ne(),le(o,{key:0,ref:"modelName",label:ie(r).modelNameLabel,name:"modelName"},{default:re((()=>[v(u,{value:ie(g).modelName,"onUpdate:value":t[1]||(t[1]=e=>ie(g).modelName=e),"aria-autocomplete":"none"},null,8,["value"])])),_:1},8,["label"])):pe("",!0),"ollama"!==ie(g).modelType?(ne(),le(o,{key:1,ref:"apiKey",label:ie(r).apiKeyLabel,name:"apiKey"},{default:re((()=>[v(s,{value:ie(g).apiKey,"onUpdate:value":t[2]||(t[2]=e=>ie(g).apiKey=e),placeholder:"sk-xxxxxxxxxxxxxxxxxxxxxxxx"},null,8,["value"])])),_:1},8,["label"])):pe("",!0),v(o,{ref:"apiBase",label:ie(r).apiBaseLabel,name:"apiBase"},{default:re((()=>[v(u,{value:ie(g).apiBase,"onUpdate:value":t[3]||(t[3]=e=>ie(g).apiBase=e),"aria-autocomplete":"none"},null,8,["value"])])),_:1},8,["label"]),v(o,{ref:"apiModelName",label:ie(r).apiModelNameLabel,name:"apiModelName"},{default:re((()=>["openAI"!==ie(g).modelType&&"deepseek"!==ie(g).modelType?(ne(),le(u,{key:0,value:ie(g).apiModelName,"onUpdate:value":t[4]||(t[4]=e=>ie(g).apiModelName=e),"aria-autocomplete":"none"},null,8,["value"])):pe("",!0),"deepseek"===ie(g).modelType?(ne(),le(l,{key:1,value:ie(g).apiModelName,"onUpdate:value":t[6]||(t[6]=e=>ie(g).apiModelName=e),options:ie(S).map((e=>({value:e}))),onChange:M},{dropdownRender:re((({menuNode:e})=>[v(ie(x),{vnodes:e},null,8,["vnodes"]),v(d,{style:{margin:"4px 0"}}),v(f,{style:{padding:"4px 8px"}},{default:re((()=>[v(u,{ref_key:"inputRef",ref:k,value:ie(I),"onUpdate:value":t[5]||(t[5]=e=>ce(I)?I.value=e:null),placeholder:"输入模型名称"},null,8,["value"]),v(p,{type:"text",onClick:E},{default:re((()=>[oe("添加模型")])),_:1})])),_:1})])),_:1},8,["value","options"])):pe("",!0),"openAI"===ie(g).modelType?(ne(),le(l,{key:2,value:ie(g).apiModelName,"onUpdate:value":t[8]||(t[8]=e=>ie(g).apiModelName=e),options:ie($).map((e=>({value:e}))),onChange:C},{dropdownRender:re((({menuNode:e})=>[v(ie(x),{vnodes:e},null,8,["vnodes"]),v(d,{style:{margin:"4px 0"}}),v(f,{style:{padding:"4px 8px"}},{default:re((()=>[v(u,{ref_key:"inputRef",ref:k,value:ie(N),"onUpdate:value":t[7]||(t[7]=e=>ce(N)?N.value=e:null),placeholder:"输入模型名称"},null,8,["value"]),v(p,{type:"text",onClick:T},{default:re((()=>[oe("添加模型")])),_:1})])),_:1})])),_:1},8,["value","options"])):pe("",!0)])),_:1},8,["label"]),ve("div",ba,[v(o,{ref:"apiContextLength",name:"apiContextLength","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).apiContextLengthLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).apiContextLengthLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(L),"onUpdate:value":t[9]||(t[9]=e=>ce(L)?L.value=e:null),min:"ollama"===ie(g).modelType?2:4,max:ie(_)||200,step:1,"tip-formatter":e=>`${e}K`},null,8,["value","min","max","tip-formatter"]),ie(L)>32?(ne(),ue("div",xa,ya)):pe("",!0),"ollama"===ie(g).modelType?(ne(),ue("div",$a,[oe(" 您需要先 "),Sa,oe(" 然后返回前端进行 "),wa])):pe("",!0),v(w,{value:ie(L),"onUpdate:value":t[10]||(t[10]=e=>ce(L)?L.value=e:null),min:"ollama"===ie(g).modelType?2:4,max:ie(_)||200,step:1,precision:0,controls:!1,"addon-after":"K"},null,8,["value","min","max"])])),_:1},512)]),ve("div",ka,[v(o,{ref:"maxToken",name:"maxToken","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).maxTokenLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).maxTokenLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(g).maxToken,"onUpdate:value":t[11]||(t[11]=e=>ie(g).maxToken=e),min:256,max:8192,step:1},null,8,["value"]),v(w,{value:ie(g).maxToken,"onUpdate:value":t[12]||(t[12]=e=>ie(g).maxToken=e),min:256,max:8192,step:1,precision:0,controls:!1},null,8,["value"])])),_:1},512)]),ve("div",Na,[v(o,{ref:"chunkSize",name:"chunkSize","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).chunkSizeLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).chunkSizeLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(g).chunkSize,"onUpdate:value":t[13]||(t[13]=e=>ie(g).chunkSize=e),min:400,max:2048,step:1},null,8,["value"]),v(w,{value:ie(g).chunkSize,"onUpdate:value":t[14]||(t[14]=e=>ie(g).chunkSize=e),min:400,max:2048,step:1,precision:0,controls:!1},null,8,["value"])])),_:1},512)]),ve("div",Ia,[v(o,{ref:"temperature",name:"temperature","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).temperatureLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).temperatureLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(g).temperature,"onUpdate:value":t[15]||(t[15]=e=>ie(g).temperature=e),min:0,max:1,step:.01},null,8,["value"]),v(w,{value:ie(g).temperature,"onUpdate:value":t[16]||(t[16]=e=>ie(g).temperature=e),min:0,max:1,step:.01,precision:2,controls:!1},null,8,["value"])])),_:1},512)]),ve("div",_a,[v(o,{ref:"top_P",name:"top_P","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).top_PLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).top_PLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(g).top_P,"onUpdate:value":t[17]||(t[17]=e=>ie(g).top_P=e),min:0,max:1,step:.01},null,8,["value"]),v(w,{value:ie(g).top_P,"onUpdate:value":t[18]||(t[18]=e=>ie(g).top_P=e),min:0,max:1,step:.01,precision:2,controls:!1},null,8,["value"])])),_:1},512)]),ve("div",Ta,[v(o,{ref:"rerankScoreThreshold",name:"rerankScoreThreshold","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).rerankScoreThresholdLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).rerankScoreThresholdLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(g).rerankScoreThreshold,"onUpdate:value":t[19]||(t[19]=e=>ie(g).rerankScoreThreshold=e),min:.01,max:1,step:.01},null,8,["value"]),v(w,{value:ie(g).rerankScoreThreshold,"onUpdate:value":t[20]||(t[20]=e=>ie(g).rerankScoreThreshold=e),min:.01,max:1,step:.01,precision:2,controls:!1},null,8,["value"])])),_:1},512)]),ve("div",Ea,[v(o,{ref:"top_K",name:"top_K","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).top_KLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).top_KLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(g).top_K,"onUpdate:value":t[21]||(t[21]=e=>ie(g).top_K=e),min:1,max:100,step:1},null,8,["value"]),v(w,{value:ie(g).top_K,"onUpdate:value":t[22]||(t[22]=e=>ie(g).top_K=e),min:1,max:100,step:1,precision:0,controls:!1},null,8,["value"])])),_:1},512)]),ve("div",Ca,[v(o,{ref:"context",name:"context","auto-link":!1},{label:re((()=>[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r).contextLabelDescription),1)])),default:re((()=>[ve("span",null,de(ie(r).contextLabel),1)])),_:1})])),default:re((()=>[v(y,{value:ie(g).context,"onUpdate:value":t[23]||(t[23]=e=>ie(g).context=e),min:0,max:10,step:1},null,8,["value"]),v(w,{value:ie(g).context,"onUpdate:value":t[24]||(t[24]=e=>ie(g).context=e),min:0,max:10,step:1,precision:0,controls:!1},null,8,["value"])])),_:1},512)]),v(o,{label:ie(r).capabilitiesLabel,name:"capabilities"},{default:re((()=>[v(B,{value:ie(m),"onUpdate:value":t[25]||(t[25]=e=>ce(m)?m.value=e:null),class:"checkbox-item"},{default:re((()=>[(ne(!0),ue(Y,null,se(Object.keys(ie(g).capabilities),(e=>(ne(),ue("div",{key:e},[v(h,{placement:"topLeft"},{content:re((()=>[ve("p",null,de(ie(r)[`${e}Description`]),1)])),default:re((()=>[v(D,{value:e},{default:re((()=>[oe(de(ie(r)[e]),1)])),_:2},1032,["value"])])),_:2},1024)])))),128))])),_:1},8,["value"])])),_:1},8,["label"]),ie(b)?(ne(),le(o,{key:2,label:ie(r).loginKey,name:"loginKey"},{default:re((()=>[v(s,{value:ie(g).loginKey,"onUpdate:value":t[26]||(t[26]=e=>ie(g).loginKey=e),placeholder:ie(r).loginKeyPlaceholder},null,8,["value","placeholder"])])),_:1},8,["label"])):pe("",!0),"自定义模型配置"===ie(g).modelType?(ne(),le(o,{key:3,"wrapper-col":{span:24}},{default:re((()=>[v(p,{type:"primary","html-type":"submit",style:{"margin-left":"0 !important",width:"auto"}},{default:re((()=>[oe(de(ie(r).saveModel),1)])),_:1})])),_:1})):pe("",!0)])),_:1},8,["model"])])),_:1})}}}),[["__scopeId","data-v-bd0d4840"]]),La={class:"model-set-dialog-comp"},za={class:"select-model"},Aa={class:"footer"},Oa=Se(s({__name:"ChatSettingDialog",setup(e,{expose:l}){const{showSettingModal:r}=ee(a()),{setChatSettingConfigured:i}=t(),o=h(),{common:u}=n(),s=()=>{r.value=!1},d=async e=>{const a=await o.value.onCheck();return!Object.hasOwn(a,"errorFields")&&(e&&e(a),!0)},p=e=>{r.value=!1,i(e),fe.success("应用成功")},c=()=>{d(p)};return l({handleOk:d}),(e,a)=>{const t=be,n=ke;return ne(),le(we,{to:"body"},[v(n,{open:ie(r),"onUpdate:open":a[0]||(a[0]=e=>ce(r)?r.value=e:null),title:ie(u).modelSettingTitle,centered:"",width:"700px","wrap-class-name":"model-set-modal",footer:null,"force-render":!0},{default:re((()=>[ve("div",La,[ve("div",za,[v(Ma,{ref_key:"chatSettingFormRef",ref:o},null,512)]),ve("div",Aa,[v(t,{onClick:s},{default:re((()=>[oe(de(ie(u).cancel),1)])),_:1}),v(t,{type:"primary",style:{width:"auto","margin-left":"10px"},onClick:c},{default:re((()=>[oe(de(ie(u).confirmApplication),1)])),_:1})])])])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-31f7dbcc"]]),{common:Da}=n(),{copy:Ba,isSupported:Pa}=Pe({legacy:!0});function Ra(){return{like:Oe((async e=>{e.like=!e.like,e.unlike=!1,e.like?await De(await Be.userEvaluationStored({qa_id:e.qaId,eval_level:1})):await De(await Be.userEvaluationStored({qa_id:e.qaId,eval_level:0}))}),500),unlike:Oe((async e=>{e.unlike=!e.unlike,e.like=!1,e.unlike?await De(await Be.userEvaluationStored({qa_id:e.qaId,eval_level:-1})):await De(await Be.userEvaluationStored({qa_id:e.qaId,eval_level:0}))}),500),copy:e=>{Pa?Ba(e.answer).then((()=>{e.copied=!e.copied,fe.success(Da.copySuccess,1);const a=setTimeout((()=>{clearTimeout(a),e.copied=!e.copied}),1e3)})).catch((()=>{fe.error(Da.copyFailed,1)})):fe.error(Da.copyNotSupported)},deleteChatItem:(e,a)=>{const t=a.indexOf(e);-1!==t&&a.splice(t-1,2)}}}export{Oa as C,Ma as a,Ra as u};
